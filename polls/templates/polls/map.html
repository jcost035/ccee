 {% load static %}

<link href="{% static 'site.css' %}" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Roboto+Condensed:wght@700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">

<script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>


{% comment %} <img src="{% static 'Cal_Map_CCEE_1.png' %}" /> {% endcomment %}


<title>X, Y Coordinates using jQuery</title>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>

<body>

    {% include "polls/nav.html"%}

    <div class="flex flex-row mt-24" x-data="mapData()" x-init="mapFoo()">
        <div class="w-1/3">
            <div x-show="text">asfdsafdfsad</div>
        </div>
        <div class="flex-grow-0 flex-shrink-0" style="width: 900px">
            <div class=""><img class="" src="{% static 'Cal_Map_CCEE_1.png' %}" alt="" /></div>
            <div style="padding-top:20px;">
                <div id="coord"></div>
                <div id="cond-coord"></div>
            </div>
        </div>

    </div>
</body>



<script>
    function mapData() {

        var text = false;

        function mapFoo() {
            $(document).ready(() => {
                $('img').click(function(e) {
                    var offset = $(this).offset();
                    var X = (e.pageX - offset.left);
                    var Y = (e.pageY - offset.top);
                    $('#coord').text('X: ' + X + ', Y: ' + Y);

                    if (X > 495 && X < 525 && Y > 605 && Y < 630) {
                        $('#cond-coord').text('Condition X: ' + X + ', Y: ' + Y);
                        this.text = true;
                        console.log(this.text)
                    } else {
                        $('#cond-coord').text('');
                        this.text = false;
                        console.log(this.text)
                    }
                });
            });
        }


        return {
            text,
            mapFoo,
        }
    }
</script>